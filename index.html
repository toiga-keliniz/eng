<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tenses Quiz ‚Äî –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</title>
<style>
  body { background: #121212; color: #eee; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; text-align: center; padding: 10px; box-sizing: border-box; }
  .container { background: #1e1e1e; padding: 25px 30px; border-radius: 12px; width: 100%; max-width: 450px; box-shadow: 0 0 20px #000a; }
  .emoji { font-size: 48px; }
  .tense-name { font-weight: 700; font-size: 26px; margin-top: 10px; }
  .description { margin-top: 10px; color: #bbb; font-size: 15px; min-height: 40px; }
  .options { margin-top: 25px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
  .option { background: #2a2a2a; padding: 12px; border-radius: 8px; cursor: pointer; user-select: none; transition: all 0.2s ease; font-size: 14px; display: flex; align-items: center; justify-content: center; min-height: 40px; border: 2px solid transparent; }
  .option:hover { background: #444; transform: translateY(-2px); }
  .option.selected { background: #007bff; color: white; font-weight: 700; border-color: #007bff; }
  .option.correct { background: #28a745; color: white; font-weight: bold; border-color: #fff; }
  .option.incorrect { background: #dc3545; color: white; opacity: 0.8; }
  button { margin-top: 25px; width: 100%; background: #007bff; color: white; font-size: 18px; border: none; padding: 14px 0; border-radius: 8px; cursor: pointer; transition: background 0.3s; }
  button:disabled { background: #555; cursor: not-allowed; }
  .result { margin-top: 20px; font-weight: 700; font-size: 18px; min-height: 28px; }
</style>
</head>
<body>

  <div class="container" id="quiz-container">
    <div class="emoji" id="emoji">‚è≥</div>
    <div class="tense-name" id="tenseName"></div>
    <div class="description" id="description"></div>
    <div class="options" id="options"></div>
    <button id="checkBtn" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <div class="result" id="result"></div>
    <button id="nextBtn" style="display: none; margin-top: 15px;">–°–ª–µ–¥—É—é—â–µ–µ</button>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- –î–ê–ù–ù–´–ï –¢–ï–ü–ï–†–¨ –í–ù–£–¢–†–ò –°–ö–†–ò–ü–¢–ê ---
    const allTenses = [
      { name: "Present Simple", emoji: "‚è∞", description: "–§–∞–∫—Ç—ã, –ø—Ä–∏–≤—ã—á–∫–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.", formula: "Subject + V1" },
      { name: "Present Continuous", emoji: "üé•", description: "–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.", formula: "am/is/are + V-ing" },
      { name: "Past Simple", emoji: "üñº", description: "–ó–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º.", formula: "Subject + V2/ed" },
      { name: "Past Continuous", emoji: "üöó", description: "–ü—Ä–æ—Ü–µ—Å—Å –≤ –ø—Ä–æ—à–ª–æ–º.", formula: "was/were + V-ing" },
      { name: "Past Perfect", emoji: "üè∫", description: "–ü—Ä–æ—à–ª–æ–µ –¥–æ –ø—Ä–æ—à–ª–æ–≥–æ.", formula: "had + V3" },
      { name: "Present Perfect", emoji: "üåç", description: "–†–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø—ã—Ç.", formula: "have/has + V3" },
      { name: "Present Perfect Continuous", emoji: "üéÆ", description: "–ü—Ä–æ—Ü–µ—Å—Å –¥–æ —Å–µ–π—á–∞—Å.", formula: "have/has been + V-ing" },
      { name: "Future Simple", emoji: "üéâ", description: "–ü—Ä–æ–≥–Ω–æ–∑, —Ä–µ—à–µ–Ω–∏–µ.", formula: "will + V1" },
      { name: "Future Continuous", emoji: "üöÄ", description: "–ë—É–¥—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å.", formula: "will be + V-ing" },
      { name: "Past Perfect Continuous", emoji: "üõ©", description: "–ü—Ä–æ—Ü–µ—Å—Å –¥–æ –ø—Ä–æ—à–ª–æ–≥–æ.", formula: "had been + V-ing" },
      { name: "Future Perfect", emoji: "‚ö∞Ô∏è", description: "–î–µ–¥–ª–∞–π–Ω –≤ –±—É–¥—É—â–µ–º.", formula: "will have + V3" },
      { name: "Future Perfect Continuous", emoji: "üíº", description: "–ü—Ä–æ—Ü–µ—Å—Å –¥–æ –±—É–¥—É—â–µ–≥–æ.", formula: "will have been + V-ing" }
    ];

    // --- –í–°–Ø –û–°–¢–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –û–°–¢–ê–ï–¢–°–Ø –ü–†–ï–ñ–ù–ï–ô ---

    const emojiEl = document.getElementById("emoji");
    const tenseNameEl = document.getElementById("tenseName");
    const descriptionEl = document.getElementById("description");
    const optionsEl = document.getElementById("options");
    const checkBtn = document.getElementById("checkBtn");
    const resultEl = document.getElementById("result");
    const nextBtn = document.getElementById("nextBtn");

    let currentTense = null;
    let selectedOptionDiv = null;
    let isAnswered = false;

    function loadTense() {
        isAnswered = false;
        selectedOptionDiv = null;

        checkBtn.disabled = true;
        checkBtn.style.display = 'block';
        nextBtn.style.display = 'none';
        resultEl.textContent = "";
        optionsEl.innerHTML = "";

        currentTense = allTenses[Math.floor(Math.random() * allTenses.length)];

        emojiEl.textContent = currentTense.emoji;
        tenseNameEl.textContent = currentTense.name;
        descriptionEl.textContent = currentTense.description;

        const options = generateOptions(currentTense.formula);

        options.forEach(formula => {
            const div = document.createElement("div");
            div.classList.add("option");
            div.textContent = formula;
            
            div.addEventListener('click', () => {
                if (isAnswered) return;
                
                const currentlySelected = optionsEl.querySelector('.selected');
                if (currentlySelected) {
                    currentlySelected.classList.remove('selected');
                }
                
                div.classList.add('selected');
                selectedOptionDiv = div;
                checkBtn.disabled = false;
            });
            optionsEl.appendChild(div);
        });
    }
    
    checkBtn.addEventListener('click', () => {
        if (!selectedOptionDiv) return;
        isAnswered = true;

        const isCorrect = selectedOptionDiv.textContent === currentTense.formula;

        if (isCorrect) {
            selectedOptionDiv.classList.remove('selected');
            selectedOptionDiv.classList.add('correct');
            resultEl.textContent = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
            resultEl.style.color = "#28a745";
        } else {
            selectedOptionDiv.classList.remove('selected');
            selectedOptionDiv.classList.add('incorrect');
            resultEl.textContent = `‚ùå –ù–µ–≤–µ—Ä–Ω–æ!`;
            resultEl.style.color = "#dc3545";

            Array.from(optionsEl.children).find(opt => opt.textContent === currentTense.formula)?.classList.add('correct');
        }

        checkBtn.style.display = 'none';
        nextBtn.style.display = 'block';
    });

    nextBtn.addEventListener('click', loadTense);

    function generateOptions(correctFormula) {
        const otherFormulas = allTenses
            .map(t => t.formula)
            .filter(f => f !== correctFormula);
        shuffle(otherFormulas);
        const finalOptions = [correctFormula, ...otherFormulas.slice(0, 5)];
        return shuffle(finalOptions);
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // --- –ó–ê–ü–£–°–ö–ê–ï–ú –í–ò–ö–¢–û–†–ò–ù–£ –°–†–ê–ó–£ ---
    loadTense();
});
</script>
</body>
</html>
